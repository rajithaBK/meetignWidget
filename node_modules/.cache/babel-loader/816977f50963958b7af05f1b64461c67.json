{"ast":null,"code":"\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/createClass\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/defineProperty\"));\n\nvar _constants = require(\"../constants\");\n/**\n  * Metrics Payload Event\n  * Emitted when a Metric Payload is available\n  * @event metrics:payload\n  * @instance\n  * @type {Object}\n  * @memberof MediaMetrics\n  */\n\n/**\n * @class MediaMetrics\n * @private\n */\n\n\nvar MediaMetrics = /*#__PURE__*/function () {\n  /**\n   * @param {Object} options\n   * @param {Object} options.config\n   * @memberof MediaMetrics\n   * @constructor\n   */\n  function MediaMetrics() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    (0, _classCallCheck2.default)(this, MediaMetrics);\n    (0, _defineProperty2.default)(this, \"namespace\", _constants.MEETINGS);\n    this.config = options.config;\n    this.stats = null;\n  }\n  /**\n   * @param {MeetingStats} stats\n   * @returns {undefined}\n   * @memberof MediaMetrics\n   */\n\n\n  (0, _createClass2.default)(MediaMetrics, [{\n    key: \"setStats\",\n    value: function setStats(stats) {\n      this.stats = stats;\n    }\n    /**\n     * sets up all the default senders and receivers getStats to collect data\n     * @returns {Object}\n     * @public\n     * @memberof MediaMetrics\n     */\n\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var mqa = this.config.metrics.autoSendMQA;\n      return {\n        useConfig: true,\n        senders: [{\n          id: _constants.STATS.AUDIO_SENDER_ID,\n          correlate: _constants.STATS.AUDIO_CORRELATE,\n          mqa: mqa,\n          onData: function onData() {}\n        }, {\n          id: _constants.STATS.VIDEO_SENDER_ID,\n          correlate: _constants.STATS.VIDEO_CORRELATE,\n          mqa: mqa,\n          onData: function onData() {}\n        }, {\n          id: _constants.STATS.SHARE_SENDER_ID,\n          correlate: _constants.STATS.SHARE_CORRELATE,\n          mqa: mqa,\n          onData: function onData() {}\n        }],\n        receivers: [{\n          id: _constants.STATS.AUDIO_RECEIVER_ID,\n          correlate: _constants.STATS.AUDIO_CORRELATE,\n          mqa: mqa,\n          onData: function onData() {}\n        }, {\n          id: _constants.STATS.VIDEO_RECEIVER_ID,\n          correlate: _constants.STATS.VIDEO_CORRELATE,\n          mqa: mqa,\n          onData: function onData() {}\n        }, {\n          id: _constants.STATS.SHARE_RECEIVER_ID,\n          correlate: _constants.STATS.SHARE_CORRELATE,\n          mqa: mqa,\n          onData: function onData() {}\n        }]\n      };\n    }\n  }]);\n  return MediaMetrics;\n}();\n\nexports.default = MediaMetrics;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;IACqBA,Y;AAGnB;AACF;AACA;AACA;AACA;AACA;AACE,0BAA0B;AAAA,QAAdC,OAAc,uEAAJ,EAAI;AAAA;AAAA,qDARdC,mBAQc;AACxB,SAAKC,MAAL,GAAcF,OAAO,CAACE,MAAtB;AACA,SAAKC,KAAL,GAAa,IAAb;AACD;AAED;AACF;AACA;AACA;AACA;;;;;WACE,kBAASA,KAAT,EAAgB;AACd,WAAKA,KAAL,GAAaA,KAAb;AACD;AAED;AACF;AACA;AACA;AACA;AACA;;;;WACE,sBAAa;AACX,UAAMC,GAAG,GAAG,KAAKF,MAAL,CAAYG,OAAZ,CAAoBC,WAAhC;AAEA,aAAO;AACLC,iBAAS,EAAE,IADN;AAELC,eAAO,EAAE,CACP;AACEC,YAAE,EAAEC,iBAAMC,eADZ;AAEEC,mBAAS,EAAEF,iBAAMG,eAFnB;AAGET,aAAG,EAAHA,GAHF;AAIEU,gBAAM,EAAE,kBAAM,CAAE;AAJlB,SADO,EAOP;AACEL,YAAE,EAAEC,iBAAMK,eADZ;AAEEH,mBAAS,EAAEF,iBAAMM,eAFnB;AAGEZ,aAAG,EAAHA,GAHF;AAIEU,gBAAM,EAAE,kBAAM,CAAE;AAJlB,SAPO,EAaP;AACEL,YAAE,EAAEC,iBAAMO,eADZ;AAEEL,mBAAS,EAAEF,iBAAMQ,eAFnB;AAGEd,aAAG,EAAHA,GAHF;AAIEU,gBAAM,EAAE,kBAAM,CAAE;AAJlB,SAbO,CAFJ;AAsBLK,iBAAS,EAAE,CACT;AACEV,YAAE,EAAEC,iBAAMU,iBADZ;AAEER,mBAAS,EAAEF,iBAAMG,eAFnB;AAGET,aAAG,EAAHA,GAHF;AAIEU,gBAAM,EAAE,kBAAM,CAAE;AAJlB,SADS,EAOT;AACEL,YAAE,EAAEC,iBAAMW,iBADZ;AAEET,mBAAS,EAAEF,iBAAMM,eAFnB;AAGEZ,aAAG,EAAHA,GAHF;AAIEU,gBAAM,EAAE,kBAAM,CAAE;AAJlB,SAPS,EAaT;AACEL,YAAE,EAAEC,iBAAMY,iBADZ;AAEEV,mBAAS,EAAEF,iBAAMQ,eAFnB;AAGEd,aAAG,EAAHA,GAHF;AAIEU,gBAAM,EAAE,kBAAM,CAAE;AAJlB,SAbS;AAtBN,OAAP;AA2CD","names":["MediaMetrics","options","MEETINGS","config","stats","mqa","metrics","autoSendMQA","useConfig","senders","id","STATS","AUDIO_SENDER_ID","correlate","AUDIO_CORRELATE","onData","VIDEO_SENDER_ID","VIDEO_CORRELATE","SHARE_SENDER_ID","SHARE_CORRELATE","receivers","AUDIO_RECEIVER_ID","VIDEO_RECEIVER_ID","SHARE_RECEIVER_ID"],"sources":["metrics.js"],"sourcesContent":["import {\n  MEETINGS,\n  STATS\n} from '../constants';\n\n/**\n  * Metrics Payload Event\n  * Emitted when a Metric Payload is available\n  * @event metrics:payload\n  * @instance\n  * @type {Object}\n  * @memberof MediaMetrics\n  */\n\n/**\n * @class MediaMetrics\n * @private\n */\nexport default class MediaMetrics {\n  namespace = MEETINGS;\n\n  /**\n   * @param {Object} options\n   * @param {Object} options.config\n   * @memberof MediaMetrics\n   * @constructor\n   */\n  constructor(options = {}) {\n    this.config = options.config;\n    this.stats = null;\n  }\n\n  /**\n   * @param {MeetingStats} stats\n   * @returns {undefined}\n   * @memberof MediaMetrics\n   */\n  setStats(stats) {\n    this.stats = stats;\n  }\n\n  /**\n   * sets up all the default senders and receivers getStats to collect data\n   * @returns {Object}\n   * @public\n   * @memberof MediaMetrics\n   */\n  initialize() {\n    const mqa = this.config.metrics.autoSendMQA;\n\n    return {\n      useConfig: true,\n      senders: [\n        {\n          id: STATS.AUDIO_SENDER_ID,\n          correlate: STATS.AUDIO_CORRELATE,\n          mqa,\n          onData: () => {}\n        },\n        {\n          id: STATS.VIDEO_SENDER_ID,\n          correlate: STATS.VIDEO_CORRELATE,\n          mqa,\n          onData: () => {}\n        },\n        {\n          id: STATS.SHARE_SENDER_ID,\n          correlate: STATS.SHARE_CORRELATE,\n          mqa,\n          onData: () => {}\n        }\n      ],\n      receivers: [\n        {\n          id: STATS.AUDIO_RECEIVER_ID,\n          correlate: STATS.AUDIO_CORRELATE,\n          mqa,\n          onData: () => {}\n        },\n        {\n          id: STATS.VIDEO_RECEIVER_ID,\n          correlate: STATS.VIDEO_CORRELATE,\n          mqa,\n          onData: () => {}\n        },\n        {\n          id: STATS.SHARE_RECEIVER_ID,\n          correlate: STATS.SHARE_CORRELATE,\n          mqa,\n          onData: () => {}\n        }\n      ]\n    };\n  }\n}\n"]},"metadata":{},"sourceType":"script"}