{"ast":null,"code":"\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = tap;\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/promise\"));\n/*!\n * Copyright (c) 2015-2020 Cisco Systems, Inc. See LICENSE file.\n */\n\n/**\n * Injects code into a promise chain without modifying the promise chain's result\n * @param {Function} fn\n * @returns {Promise}\n * @example\n * function f() {\n *   return Promise.resolve(5);\n * }\n *\n * f()\n *   .then(tap(() => 12))\n *   // => 5\n */\n\n\nfunction tap(fn) {\n  return function (r) {\n    return new _promise.default(function (resolve) {\n      resolve(fn(r));\n    }).then(function () {\n      return r;\n    }).catch(function () {\n      return r;\n    });\n  };\n}","map":{"version":3,"mappings":";;;;;;;;;;;;;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACe,SAASA,GAAT,CAAaC,EAAb,EAAiB;AAC9B,SAAO,UAACC,CAAD;AAAA,WAAO,qBAAY,UAACC,OAAD,EAAa;AACrCA,aAAO,CAACF,EAAE,CAACC,CAAD,CAAH,CAAPC;AADY,OAGXC,IAHW,CAGN;AAAA,aAAMF,CAAN;AAHM,OAIXG,KAJW,CAIL;AAAA,aAAMH,CAAN;AAJK,MAAP;AAAP;AAKD","names":["tap","fn","r","resolve","then","catch"],"sources":["tap.js"],"sourcesContent":["/*!\n * Copyright (c) 2015-2020 Cisco Systems, Inc. See LICENSE file.\n */\n\n/**\n * Injects code into a promise chain without modifying the promise chain's result\n * @param {Function} fn\n * @returns {Promise}\n * @example\n * function f() {\n *   return Promise.resolve(5);\n * }\n *\n * f()\n *   .then(tap(() => 12))\n *   // => 5\n */\nexport default function tap(fn) {\n  return (r) => new Promise((resolve) => {\n    resolve(fn(r));\n  })\n    .then(() => r)\n    .catch(() => r);\n}\n"]},"metadata":{},"sourceType":"script"}